<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="author" content="Rozle Lipej">
		<meta name="description" content="Spotify data analysis settings page">
		<meta name="keywords" content="Spotify, settings">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>AdvancedSpotifyDataAnalyzer - Settings</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<link rel="stylesheet" href="../static/css/settings.css">
	</head>
	<body>
		<!-- Header Navigation -->
		<div class="header">
			<div class="container">
				<div class="d-flex justify-content-between align-items-center">
					<h2>Spotify Analyzer</h2>
					<nav>
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#">Dashboard</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#">Analytics</a>
							</li>
							<li class="nav-item">
								<a class="nav-link active" href="#">Settings</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#">Logout</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-8">
					<div class="card p-4">
						<h3 class="text-center mb-4">Settings</h3>
						
						<!-- Nav tabs for different setting categories -->
						<ul class="nav nav-tabs" id="settingsTabs" role="tablist">
							<li class="nav-item" role="presentation">
								<a class="nav-link active" id="account-tab" data-bs-toggle="tab" href="#account" role="tab" aria-controls="account" aria-selected="true">Account</a>
							</li>
							<li class="nav-item" role="presentation">
								<a class="nav-link" id="preferences-tab" data-bs-toggle="tab" href="#preferences" role="tab" aria-controls="preferences" aria-selected="false">Preferences</a>
							</li>
							<li class="nav-item" role="presentation">
								<a class="nav-link" id="spotify-tab" data-bs-toggle="tab" href="#spotify" role="tab" aria-controls="spotify" aria-selected="false">Spotify Connection</a>
							</li>
							<li class="nav-item" role="presentation">
								<a class="nav-link" id="privacy-tab" data-bs-toggle="tab" href="#privacy" role="tab" aria-controls="privacy" aria-selected="false">Privacy</a>
							</li>
						</ul>
						
						<div class="tab-content mt-3" id="settingsTabsContent">
							<!-- Account Settings -->
							<div class="tab-pane fade show active" id="account" role="tabpanel" aria-labelledby="account-tab">
								<div class="text-center mb-4">
									<div class="profile-pic">
										<span class="profile-pic-placeholder">ðŸ‘¤</span>
									</div>
									<button class="btn btn-outline-light btn-sm mb-3">Change Photo</button>
								</div>
								
								<form>
									<div class="mb-3">
										<label for="username" class="form-label">Username</label>
										<input type="text" class="form-control" id="username" value="CurrentUsername">
									</div>
									<div class="mb-3">
										<label for="current-password" class="form-label">Current Password</label>
										<input type="password" class="form-control" id="current-password">
									</div>
									<div class="mb-3">
										<label for="new-password" class="form-label">New Password</label>
										<input type="password" class="form-control" id="new-password">
									</div>
									<div class="mb-3">
										<label for="confirm-new-password" class="form-label">Confirm New Password</label>
										<input type="password" class="form-control" id="confirm-new-password">
										<p id="passwordMatch" class="mt-2"></p>
									</div>
									<div class="d-grid gap-2">
										<button type="submit" class="btn btn-success">Save Changes</button>
									</div>
								</form>
							</div>
							
							<!-- Preferences Settings -->
							<div class="tab-pane fade" id="preferences" role="tabpanel" aria-labelledby="preferences-tab">
								<form>
									<div class="mb-3">
										<label class="form-label">Analytics Display</label>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" id="show-artists" checked>
											<label class="form-check-label" for="show-artists">
												Show Top Artists
											</label>
										</div>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" id="show-tracks" checked>
											<label class="form-check-label" for="show-tracks">
												Show Top Tracks
											</label>
										</div>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" id="show-genres" checked>
											<label class="form-check-label" for="show-genres">
												Show Favorite Genres
											</label>
										</div>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" id="show-listening-habits" checked>
											<label class="form-check-label" for="show-listening-habits">
												Show Listening Habits
											</label>
										</div>
									</div>
									
									<div class="d-grid gap-2">
										<button type="submit" class="btn btn-success">Save Preferences</button>
									</div>
								</form>
							</div>
							
							<!-- Spotify Connection -->
							<div class="tab-pane fade" id="spotify" role="tabpanel" aria-labelledby="spotify-tab">
								<div class="empty-tab-content">
									<div class="empty-tab-icon">ðŸŽµ</div>
									<h5>Spotify Connection Settings</h5>
									<p class="text-muted">Spotify connection settings are currently not available.</p>
								</div>
							</div>
							
							<!-- Privacy Settings -->
							<div class="tab-pane fade" id="privacy" role="tabpanel" aria-labelledby="privacy-tab">
								<div class="empty-tab-content">
									<div class="empty-tab-icon">ðŸ”’</div>
									<h5>Privacy Settings</h5>
									<p class="text-muted">Privacy settings are currently not available.</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<!-- Animation script -->
		<script>// settings.js (containing only animations)
			document.addEventListener('DOMContentLoaded', function() {
				// Add enhanced animation handling for tab switching
				const tabLinks = document.querySelectorAll('.nav-link');
				
				tabLinks.forEach(tab => {
					tab.addEventListener('click', function() {
						// First reset all animations by removing and re-adding the show class
						document.querySelectorAll('.tab-pane').forEach(pane => {
							if (pane.classList.contains('show')) {
								pane.style.opacity = '0';
								pane.style.transform = 'translateY(10px)';
								
								// Force reflow to ensure animation plays again
								void pane.offsetWidth;
							}
						});
						
						// Give time for the animation to play
						setTimeout(() => {
							const targetTab = document.querySelector(this.getAttribute('href'));
							if (targetTab) {
								targetTab.style.opacity = '1';
								targetTab.style.transform = 'translateY(0)';
							}
						}, 50);
					});
				});
			});
</script>

		<script src="../static/js/password-validation.js"></script>
	</body>
</html>